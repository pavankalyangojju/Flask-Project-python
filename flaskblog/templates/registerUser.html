{% extends "layout.html" %}
{% block content %}








<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description"
    content="Get started with a free and open source Tailwind CSS admin dashboard featuring a sidebar layout, advanced charts, and hundreds of components based on Flowbite">
<meta name="author" content="Themesberg">
<meta name="generator" content="Hugo 0.98.0">
<link rel="canonical" href="https://themesberg.com/product/tailwind-css/dashboard-windster">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet">
<link rel="stylesheet" href="https://demo.themesberg.com/windster/app.css">
<link rel="apple-touch-icon" sizes="180x180" href="/static/favicon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/static/favicon.png">
<link rel="icon" type="image/png" sizes="16x16" href="/static/favicon.png">
<link rel="icon" type="image/png" href="/static/favicon.png">
<link rel="mask-icon" href="/static/favicon.png" color="#5bbad5">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="theme-color" content="#ffffff">
<meta property="og:url" content="https://demo.themesberg.com/windster/">
<meta property="og:title" content="Register User">
<meta property="og:description"
    content="Get started with a free and open source Tailwind CSS admin dashboard featuring a sidebar layout, advanced charts, and hundreds of components based on Flowbite">
<meta property="og:type" content="website">
<meta property="og:image" content="https://demo.themesberg.com/docs/images/og-image.jpg">
<meta property="og:image:type" content="/static/favicon.png">
<!--<script src="/static/js/registeruser.js" type="text/javascript"></script>-->





















<main id="main-id">
    <div class="pt-6 px-4">
        <div class="grid grid-cols-1 2xl:grid-cols-2 xl:gap-4 my-4">
            <div class="relative  h-full md:h-auto">
                <div>
                    <!-- Add User Modal -->
                    <div class="bg-white rounded-lg shadow relative">
                        <!-- Modal header -->
                        <div class="flex items-start justify-between p-5 border-b rounded-t">
                            <h3 class="text-xl font-semibold">
                                Add New User
                            </h3>
                            
                        </div>
                        <!-- Modal body ekkada delete button work avvadu -->
                        <div class="p-6 space-y-6">
                            <form action="http://165.232.181.217:8000/RegisterUser" method="get"
                                target="_blank">
                                <div class="grid grid-cols-6 gap-6">
                                    <div class="col-span-6 sm:col-span-3">
                                        <label for="company"
                                            class="text-sm font-medium text-gray-900 block mb-2">Company</label>
                                        <select name="company" id="company"
                                            class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5"
                                            required>
                                        </select>
                                    </div>
                                    <div class="col-span-6 sm:col-span-3">
                                        <label for="uuid"
                                            class="text-sm font-medium text-gray-900 block mb-2">uuid</label>
                                        <input type="text" name="uuid" id="uuid"
                                            class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5"
                                            placeholder="uuid" required>
                                    </div>
                                    <div class="col-span-6 sm:col-span-3">
                                        <label for="password"
                                            class="text-sm font-medium text-gray-900 block mb-2">Password</label>
                                        <input type="password" name="password" id="password"
                                            class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5"
                                            placeholder="password" required>
                                    </div>
                                    <div class="col-span-6 sm:col-span-3">
                                        <label for="macid"
                                            class="text-sm font-medium text-gray-900 block mb-2">MacID</label>
                                        <div class="flex flex-row items-center">
                                            <input type="text" name="macid" id="macid1"
                                                class="mx-1 shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5"
                                                placeholder="00" required>
                                            <p class="p-1 text-gray-500">:</p>
                                            <input type="text" name="macid" id="macid2"
                                                class="mx-1 shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5"
                                                placeholder="00" required>
                                                <p class="p-1 text-gray-500">:</p>
                                            <input type="text" name="macid" id="macid3"
                                                class="mx-1 shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5"
                                                placeholder="00" required>
                                                <p class="p-1 text-gray-500">:</p>
                                            <input type="text" name="macid" id="macid4"
                                                class="mx-1 shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5"
                                                placeholder="00" required>
                                                <p class="p-1 text-gray-500">:</p>
                                            <input type="text" name="macid" id="macid5"
                                                class="mx-1 shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5"
                                                placeholder="00" required>
                                                <p class="p-1 text-gray-500">:</p>
                                            <input type="text" name="macid" id="macid6"
                                                class="mx-1 shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5"
                                                placeholder="00" required>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <!-- Modal footer -->
                        <div class="items-center p-6 border-t border-gray-200 rounded-b">
                            <button
                                class="text-white bg-cyan-600 hover:bg-cyan-700 focus:ring-4 focus:ring-cyan-200 font-medium rounded-lg text-sm px-5 py-2.5 text-center"
                                type="submit" onclick="postData()">Add
                                user
                            </button>
                        </div>
                    </form>
                </div>
                <div class="mt-3 items-start justify-between p-5 border-b rounded-t bg-white rounded-lg shadow relative">
                    <div class="col-span-6 sm:col-span-3 mt-3 ">
                        <label for="company" class="text-sm font-medium text-gray-900 block mb-2 text-xl font-semibold">Edit Companies
                        </label>
                    </div>
                    <hr>

                    <div class="flex mt-8">
                        <input id="companyName"type="text" placeholder="Company Name" class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block p-2.5 h-10"/>
                        <button onclick="handleCompany()" class="text-white bg-cyan-600 hover:bg-cyan-700 focus:ring-4 focus:ring-cyan-200 font-medium rounded-lg text-sm px-5 py-2.5 text-center ml-1">Add Company</button>
                        <button onclick="DeleteCompany()" class="text-white bg-cyan-600 hover:bg-cyan-700 focus:ring-4 focus:ring-cyan-200 font-medium rounded-lg text-sm px-5 py-2.5 text-center ml-1">Delete Company</button>
                    </div>
                </div>
                    <!-- Add Company Modal -->
                    <!--<div class="bg-white rounded-lg shadow relative mt-4">
                        Modal header 
                        <div class="flex items-start justify-between p-5 border-b rounded-t">
                            <h3 class="text-xl font-semibold">
                                List Of Companys
                            </h3>
                        </div>
                        Modal body hello id id missing companylist299
                        <div class="p-6 space-y-6">
                            <form action="http://165.232.181.217:8000/RegisterCompany" method="get"
                                target="_blank">
                                <div class="bg-white w-screen overflow-auto whitespace-no-wrap py-3"
                                    id="">
                                </div>
                                <div class="grid grid-cols-6 gap-6">
                                    <div class="col-span-6 sm:col-span-3">
                                        <label for="company"
                                            class="text-sm font-medium text-gray-900 block mb-2">Company
                                            Name</label>
                                        <input type="text" name="company" id="company"
                                            class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-full p-2.5"
                                            placeholder="Company Name" required>

                                    </div>
                                </div>
                        </div>


                        add a companys and delete a companys
                        <form action="" style="display:flex">
                            <select name="" id="myslt">
                                <option value="">Select Company </option>
                            </select>
                            <input type="text" id="text" class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-cyan-600 focus:border-cyan-600 block w-1/2 p-2.5">
                            <button type="button" id="addBtn" class="text-white bg-cyan-600 hover:bg-cyan-700 focus:ring-4 focus:ring-cyan-200 font-medium rounded-lg text-sm px-5 py-2.5 text-center ml-1" class="add-btn-comp" onclick="ADDC()">Add Companies</button>
                            <button type="button" id="removeBtn" class="text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm inline-flex items-center px-3 py-2 text-center ml-1">Delete Company</button>
                        </form>

                        Modal footer
                        <div class="items-center p-6 border-t border-gray-200 rounded-b">
                            <button
                                class="text-white bg-cyan-600 hover:bg-cyan-700 focus:ring-4 focus:ring-cyan-200 font-medium rounded-lg text-sm px-5 py-2.5 text-center"
                                type="submit" onclick="window.location.href = '/registeruser';">Add
                                compnay</button>
                        </div>
                        </form>
                    </div>-->
                </div>
            </div>

            <!-- Top Sales Card -->
            <div class="bg-white shadow rounded-lg mb-4 p-4 sm:p-6 h-full" id="layout-table">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-xl font-bold leading-none text-gray-900">User List</h3>
                </div>
                <div class="flow-root">

                    <table style="width: 100%;margin-left: 10px; margin-top:100px" id="tablelayout">
                        <thead class="bg-gray-100" id="tabledataTD">
                            <tr>
                                <td scope="col" class="p-4 text-left text-xs font-medium text-gray-500 uppercase" id="Company">Company Name</td>
                                <td scope="col" class="p-4 text-left text-xs font-medium text-gray-500 uppercase">UUID</td>
                                <!--<td scope="col" class="p-4 text-left text-xs font-medium text-gray-500 uppercase">Password</td>-->
                                <td scope="col" class="p-4 text-left text-xs font-medium text-gray-500 uppercase">MacID</td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>


                            </tr>
    
                        </thead>
    
                    </table>






                    <!--<ul role="list" class="divide-y divide-gray-200" id="userlist">
                        <template>
                            <li class="py-3 sm:py-4">
                                <div class="flex items-center space-x-4">
                                    <div class="flex-shrink-0">
                                        <img class="h-8 w-8 rounded-full"
                                            src="/static/images/profilepicture.webp" alt="Neil image">
                                    </div>
                                    <div class="flex-1 min-w-0">
                                        <p class="text-sm font-medium text-gray-900 truncate">
                                            UUID
                                        </p>
                                        <p class="text-sm text-gray-500 truncate uuidvalue">
                                            UUID
                                        </p>
                                    </div>
                                    <div class="flex-1 min-w-0">
                                        <p class="text-sm font-medium text-gray-900 truncate">
                                            Company
                                        </p>
                                        <p class="text-sm text-gray-500 truncate companyname">
                                            CompanyName
                                        </p>
                                    </div>
                                    <div class="flex-1 min-w-0">
                                        <p class="text-sm font-medium text-gray-900 truncate">
                                            MacID
                                        </p>
                                        <p class="text-sm text-gray-500 truncate macidvalues">
                                            MacID
                                        </p>
                                    </div>
                                    <div class="flex-1 min-w-0">
                                        <button
                                            class="text-white bg-cyan-600 hover:bg-cyan-700 focus:ring-4 focus:ring-cyan-200 font-medium rounded-lg text-sm px-5 py-2.5 text-center"
                                            type="submit" onclick="deleteuser(this);">Delete User</button>
                                    </div>
                                    <div class="flex-1 min-w-0">
                                        <a href="/graph">
                                            <button
                                            class="text-white bg-cyan-600 hover:bg-cyan-700 focus:ring-4 focus:ring-cyan-200 font-medium rounded-lg text-sm px-5 py-2.5 text-center"
                                            type="submit" onclick="viewgraph(this);">View Graph</button>
                                        </a>

                                    </div>
                                </div>
                            </li>
                        </template>
                    </ul>-->
                    <div class="popup-delete">
                        <div class="popup-content-delete">
                            <img src="https://png.pngtree.com/png-vector/20190603/ourmid/pngtree-icon-close-button-png-image_1357822.jpg" alt="Close" class="close-delete">
                            <svg class="w-20 h-20 text-red-600 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            <h3 class="text-xl font-normal text-gray-500 mt-5 mb-6">Are you sure you want to delete this user?</h3>
                            <div class="delete-button-flex">
                                <button class="sure-button" id="deleteUserButton">Yes, I'm sure</button>
                                <button class="cancel-button">No cancel</button>
                            </div>
                        </div>
                
                    </div>





                    <div class="popup">
                        <div class="popup-content">
                            <img src="https://png.pngtree.com/png-vector/20190603/ourmid/pngtree-icon-close-button-png-image_1357822.jpg" alt="Close" class="close">
                            <input type="text" placeholder="company" id="companypopup">
                            <input type="text" placeholder="uuid" id="uuidpopup">
                            <input type="password" placeholder="Password" id="passwordpopup">
                            <input type="text" placeholder="MACID" id="macidpopup"> <br>
                            <button  class="button mt-2 text-white bg-cyan-600 hover:bg-cyan-700 focus:ring-4 focus:ring-cyan-200 font-medium rounded-lg text-sm inline-flex items-center px-3 py-2 text-center" id="updated-buttons">Update</button>
                        </div>
                
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
</div>
</div>
<script>
document.querySelector(".close").addEventListener("click", function(){
document.querySelector(".popup").style.display = "none";
})
document.querySelector(".close-delete").addEventListener("click", function(){
document.querySelector(".popup-delete").style.display = "none";
})
document.querySelector(".cancel-button").addEventListener("click", function(){
document.querySelector(".popup-delete").style.display = "none";
})
document.querySelector(".sure-button").addEventListener("click", function(){
//alert("The User Successfully Deleted from the Database ........");
document.querySelector(".popup-delete").style.display = "none";
window.location.reload();

})
document.querySelector("#updated-buttons").addEventListener("click", function(){
alert("The User Successfully Updated into the database ........");
window.location.reload();

document.querySelector(".popup").style.display = "none";
})



const tabledata = document.getElementById('tablelayout');

fetch('http://165.232.181.217:8000/GetAllUsersAsJson').then((data) =>{
console.log("data",data)
return data.json();
}).then((completedata)=>{
console.log("completedValue0",completedata);
Object.values(completedata).map(({company,uuid,macid,password})=>{
const tableRow = document.createElement("tr");
tableRow.style.borderBottom = "1px solid black";
const checkBox = document.createElement("input");
checkBox.type = "checkbox";
const data5 = document.createElement("td");
const data6 = document.createElement("td");
//const data7 = document.createElement("td");
const data8 = document.createElement("td");
const data9 = document.createElement("td");

data5.innerHTML =  `${password}`;
data6.innerText = company;
//data7.innerText = e[2];
data8.innerText = macid;
// data9.innerHTML = `<div style="height : 15px; width : 15px; border-radius:7.5px;  margin-top : 2px"><div id="Active" style="height:10px; width:10px;  border-radius : 5px; margin : 1.5px; background : green;margin-top:5px"></div></div><span id="active">${"Active"}</span>`;
// data9.style.display = "flex";
const editButton = document.createElement("td");
editButton.innerHTML = `<button type="button" data-modal-toggle="user-modal" class="text-white bg-cyan-600 hover:bg-cyan-700 focus:ring-4 focus:ring-cyan-200 font-medium rounded-lg text-sm inline-flex items-center px-3 py-2 text-center" id="edit-button">
                        <svg class="mr-2 h-5 w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"></path><path fill-rule="evenodd" d="M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z" clip-rule="evenodd"></path></svg>
                    ${"Edit user"}
                    </button>`;
editButton.addEventListener("click",function(){
    document.querySelector(".popup").style.display = "flex";
    document.getElementById("companypopup").value = password;
    document.getElementById("uuidpopup").value = company;
    document.getElementById("passwordpopup").value = password;
    document.getElementById('macidpopup').value = macid;
})
const deleteButton = document.createElement("td");
deleteButton.innerHTML =  `<button type="button" data-modal-toggle="user-modal" class="text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm inline-flex items-center px-3 py-2 text-center" >
                            <svg class="mr-2 h-5 w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg>
                    ${"Delete user"}
                    </button>`;
deleteButton.addEventListener("click",function(){
    document.querySelector(".popup-delete").style.display = "flex";
    let btn = document.getElementById("deleteUserButton");
    btn.addEventListener("click", function() { deleteuser(company,uuid,password); });
    
})
tableRow.append(data5,data6,data8,data9,editButton,deleteButton);
tabledata.append(tableRow);
console.log(tableRow);

})
console.log("completedValue1",completedata[1]);
})

// document.getElementById('addBtn').onclick = function(){
//     let myselect = document.getElementById('myselect')
//     let opation = document.createElement('option')
//     let textInput = document.getElementById('text')


//     opation.value = textInput.value
//     opation.text = textInput.value

//     myselect.add(opation)
//     textInput.value = ""
//     alert("CompanyName is Added Successfully");


// }


////////////////////////////////////////////////////////////////////////////
//document.getElementsByClassName('add-btn-comp').onclick = function(){
//    let myselect = document.getElementById('myslt')
//    let opation = document.createElement('option')
//    let textInput = document.getElementById('text')

//    opation.value = textInput.value
//    opation.text = textInput.value
//    myselect.add(opation)
//    textInput.value = ""
//    alert("CompanyName is Added Successfully");
//}







// document.getElementById('removeBtn').onclick = function(){
//     let myselect = document.getElementById('myselect')

//     myselect.remove(myselect.selectedIndex)
//     alert("CompanyName is Delete Successfully");

// }


var GetAllUsers = function () {
    let xhr = new XMLHttpRequest();
    xhr.open('GET', 'http://165.232.181.217:8000/GetAllUsersAsJson', true);
    xhr.setRequestHeader('Content-Type', 'application/json');
    xhr.setRequestHeader('Access-Control-Allow-Origin', '*');
    xhr.send();
    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4 && xhr.status === 200) {
            const jsondata = JSON.parse(xhr.responseText);
            // for key value in json console key value
            Object.keys(jsondata).forEach(function (key) {
                document.getElementById('userlist').appendChild(GetTemplate(key));
                document.getElementsByClassName("uuidvalue")[key - 1].innerHTML = jsondata[key].company;
                document.getElementsByClassName("companyname")[key - 1].innerHTML = jsondata[key].password;
                document.getElementsByClassName("macidvalues")[key - 1].innerHTML = jsondata[key].macid;
            });
        }
    }
}

let postData = async () => {

    const company = document.getElementById("company").value;
    const uuid = document.getElementById("uuid").value;
    const password = document.getElementById("password").value;
    const macid = document.getElementById("macid1").value + ":" + document.getElementById("macid2").value+":"+document.getElementById("macid3").value+":"+document.getElementById("macid4").value+":"+document.getElementById("macid5").value+":"+document.getElementById("macid6").value;
    let url = `http://165.232.181.217:8000/RegisterUser?company=${company}&uuid=${uuid}&password=${password}&macid=${macid}`
    //console.log(url);
    alert("The User Successfully Added into the database ........");
    window.location.reload();

    //window.location.reload();
    const response =  fetch(url);
    //console.log(response);
    const data = await response.json();



    //console.log("temp",data);
    //alert("CompanyName is Added Successfully");


    //.then(response => response.json())
    //.then(() =>{ 
    //    fetch('http://localhost:3001/UserData').then((data) =>{
    //        console.log("data",data)
    //        return data.json();
    //    })
    //});

}


const handleCompany = async() => {
    const companyValue = document.getElementById('companyName').value;
    let url = `http://165.232.181.217:8000/RegisterCompany?company=${companyValue}`
    //console.log(url);
    const response =  fetch(url);
    window.location.reload();

    //console.log(response);
    const data = await response.json();


    //console.log("temp",data);
    //.then(response => response.json())
    //.then(() =>{ 
    //    fetch('http://localhost:3001/CompanyDetails').then((data) =>{
    //        console.log("data",data)
    //        return data.json();
    //    })
    //}).then(()=>{
    //    fetchCompanyDetails();
    //})
}
const fetchCompanyDetails = async() =>{
    const response = await fetch('http://165.232.181.217:8000/GetAllCompanies');
    const data = await response.json();
    console.log("Data",data);
    let selectDiv = document.getElementById("company");
    var opt = document.createElement('option');
    opt.value = "selectCompany";
    opt.innerHTML = "----Select your Company----";
    selectDiv.appendChild(opt);
    data.map((companyName,i)=>{
        console.log("companyValue",companyName,i)
        var opt = document.createElement('option');
        opt.value = companyName;
        opt.innerHTML = companyName;
        selectDiv.setAttribute("key",i);
        selectDiv.append(opt);
    })
}
fetchCompanyDetails()

//const DeleteCompany = async() => {
//    let companyName = document.getElementById("company").getAttribute("key");
//    console.log("companyName",companyName)
//    fetch(`http://localhost:3001/CompanyDetails/${companyName}`, { method: 'DELETE' }).then(()=>{
//        fetchCompanyDetails();
//    })
//}
//let deleteuser = (id) =>{
//   
//}
var GetTemplate = function (id) {
    let template = document.getElementsByTagName('template')[0];
    let clone = template.content.cloneNode(true);
    // set id of li in clone 
    clone.querySelector('li').id = 'user' + id;
    return clone;
}
// var deleteuser = function (node) {
//     let parent = node.parentNode.parentNode;
//     let uuid = parent.getElementsByClassName("uuidvalue")[0].innerHTML;
//     let company = parent.getElementsByClassName("companyname")[0].innerHTML;
//     let xhr = new XMLHttpRequest();
//     const baseurl = "http://165.232.181.217:8000/DeleteUser"
//     const companyname = "company=" + company
//     const uuidvalue = "&uuid=" + uuid
//     xhrurl = baseurl + "?" + companyname + uuidvalue
//     xhr.open('GET', xhrurl, true);
//     xhr.setRequestHeader('Content-Type', 'application/json');
//     xhr.setRequestHeader('Access-Control-Allow-Origin', '*');
//     xhr.send();
//     xhr.onreadystatechange = function () {
//         if (xhr.readyState === 4 && xhr.status === 200) {
//             const jsondata = JSON.parse(xhr.responseText);
//             alert(jsondata.message);
//             location.reload();
//         }
//     }

// }


var viewgraph = function (node) {
    let id = node.id
}

var GetAllCompanies = function () {
    let xhr = new XMLHttpRequest();
    xhr.open('GET', 'http://165.232.181.217:8000/GetAllCompanies')
    xhr.setRequestHeader('Content-Type', 'application/json');
    xhr.setRequestHeader('Access-Control-Allow-Origin', '*');
    xhr.send();
    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4 && xhr.status === 200) {
            const jsondata = JSON.parse(xhr.responseText);
            let companylist = document.getElementById('companylist')
            let selecter = document.getElementsByTagName('select')[0]
            for (x in jsondata) {
                let p = document.createElement('p');
                p.classList.add("inline-block", "bg-blue-700", "border", "text-white", "rounded-md", "px-6", "py-2", "m-4");
                p.innerHTML = jsondata[x];
                companylist.appendChild(p);
                let option = document.createElement('option');
                option.value = jsondata[x];
                option.innerHTML = jsondata[x];
                selecter.appendChild(option);
            }
        }
    }
}

let deleteuser = async (company,uuid,password) =>{
    console.log("details",company,password)
    await fetch(`http://165.232.181.217:8000/DeleteUser?company=${password}&uuid=${company}`).then((data)=>{
        return data.json();
    }).then(()=>{
        fetch("http://165.232.181.217:8000/GetAllUsersAsJson").then((data)=>{
            return data.json();
        })
    })
}

//GetAllUsers();
//GetAllCompanies();















</script>
<script src="https://demo.themesberg.com/windster/app.bundle.js"></script>
</body>

</html>{% endblock content %}